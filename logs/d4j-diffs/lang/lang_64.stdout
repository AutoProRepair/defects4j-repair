org.apache.commons.lang.enums.ValuedEnum

182a183,192
>         if (other == this) {
>             return 0;
>         }
>         if (other.getClass() != this.getClass()) {
>             if (other.getClass().getName().equals(this.getClass().getName())) {
>                 return iValue - getValueInOtherClassLoader(other);
>             }
>             throw new ClassCastException(
>                     "Different enum class '" + ClassUtils.getShortClassName(other.getClass()) + "'");
>         }
186a197,217
>      * <p>Use reflection to return an objects value.</p>
>      *
>      * @param other  the object to determine the value for
>      * @return the value
>      */
>     private int getValueInOtherClassLoader(Object other) {
>         try {
>             Method mth = other.getClass().getMethod("getValue", null);
>             Integer value = (Integer) mth.invoke(other, null);
>             return value.intValue();
>         } catch (NoSuchMethodException e) {
>             // ignore - should never happen
>         } catch (IllegalAccessException e) {
>             // ignore - should never happen
>         } catch (InvocationTargetException e) {
>             // ignore - should never happen
>         }
>         throw new IllegalStateException("This should not happen");
>     }
> 
>     /**


