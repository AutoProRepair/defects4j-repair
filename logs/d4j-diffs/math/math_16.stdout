org.apache.commons.math3.util.FastMath

80a81,82
>     /** StrictMath.log(Double.MAX_VALUE): {@value} */
>     private static final double LOG_MAX_VALUE = StrictMath.log(Double.MAX_VALUE);
392,393c394,408
<       if (x > 20.0) {
<           return exp(x)/2.0;
---
>       if (x > 20) {
>           if (x >= LOG_MAX_VALUE) {
>               // Avoid overflow (MATH-905).
>               final double t = exp(0.5 * x);
>               return (0.5 * t) * t;
>           } else {
>               return 0.5 * exp(x);
>           }
>       } else if (x < -20) {
>           if (x <= -LOG_MAX_VALUE) {
>               // Avoid overflow (MATH-905).
>               final double t = exp(-0.5 * x);
>               return (0.5 * t) * t;
>           } else {
>               return 0.5 * exp(-x);
395,397d409
< 
<       if (x < -20) {
<           return exp(-x)/2.0;
400c412
<       double hiPrec[] = new double[2];
---
>       final double hiPrec[] = new double[2];
452,453c464,478
<       if (x > 20.0) {
<           return exp(x)/2.0;
---
>       if (x > 20) {
>           if (x >= LOG_MAX_VALUE) {
>               // Avoid overflow (MATH-905).
>               final double t = exp(0.5 * x);
>               return (0.5 * t) * t;
>           } else {
>               return 0.5 * exp(x);
>           }
>       } else if (x < -20) {
>           if (x <= -LOG_MAX_VALUE) {
>               // Avoid overflow (MATH-905).
>               final double t = exp(-0.5 * x);
>               return (-0.5 * t) * t;
>           } else {
>               return -0.5 * exp(-x);
455,457d479
< 
<       if (x < -20) {
<           return -exp(-x)/2.0;


