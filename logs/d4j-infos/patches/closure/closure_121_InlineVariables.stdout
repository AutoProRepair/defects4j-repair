302,303c302,309
<           !staleVars.contains(v) && referenceInfo.isWellDefined() &&
<           referenceInfo.isAssignedOnceInLifetime()) {
---
>           !staleVars.contains(v) &&
>           referenceInfo.isWellDefined() &&
>           referenceInfo.isAssignedOnceInLifetime() &&
>           // Inlining the variable based solely on well-defined and assigned
>           // once is *NOT* correct. We relax the correctness requirement if
>           // the variable is declared constant.
>           (isInlineableDeclaredConstant(v, referenceInfo) ||
>            referenceInfo.isOnlyAssignmentSameScopeAsDeclaration())) {
