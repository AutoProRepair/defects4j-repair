341d340
<         baseType.isUnknownType() ||
366c365,367
<     boolean replacedPrototype = prototype != null;
---
>     PrototypeObjectType oldPrototype = this.prototype;
>     boolean replacedPrototype = oldPrototype != null;
> 
370a372,377
>     if (oldPrototype != null) {
>       // Disassociating the old prototype makes this easier to debug--
>       // we don't have to worry about two prototypes running around.
>       oldPrototype.setOwnerFunction(null);
>     }
> 
